<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buyzo Cart - Modern E-commerce</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header>
    <div class="header-inner">
      <div class="brand">
        <span class="chip">BUYZO</span>
        <span>Cart</span>
      </div>
      <div class="cta">
        <button class="btn secondary" id="openContact">Contact</button>
        <button class="btn secondary" id="openMyOrders">My Orders</button>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Products Page -->
    <section class="page active" id="productsPage">
      <section class="hero">
        <h1>Welcome to <span style="color:var(--accent)">Buyzo Cart</span></h1>
        <p>Clean, fast checkout. Hand‑picked products. Fully responsive UI.</p>
      </section>

      <div class="search-wrap">
        <input id="searchInput" placeholder="Search products..." />
      </div>

      <div class="categories" id="categoriesContainer">
        <!-- Categories will be loaded dynamically -->
      </div>

      <div class="grid" id="productGrid">
        <!-- Products will be loaded dynamically -->
        <div class="loading">Loading products...</div>
      </div>
    </section>

    <!-- Product Detail Page -->
    <section class="page" id="productDetailPage">
      <div class="back-to-products" onclick="showPage('productsPage')">
        ← Back to Products
      </div>
      
      <div class="product-detail-container">
        <div class="product-detail-gallery">
          <div class="product-detail-main-image" id="detailMainImage"></div>
          <div class="product-detail-thumbnails" id="detailThumbnails"></div>
        </div>
        
        <div class="product-detail-info">
          <h1 class="product-detail-title" id="detailTitle"></h1>
          <div class="product-detail-price" id="detailPrice"></div>
          <div class="product-detail-desc" id="detailDesc"></div>
          <div class="product-detail-full-desc" id="detailFullDesc"></div>
          
          <div class="product-detail-meta">
            <h4>Product Details</h4>
            <div id="detailMeta"></div>
          </div>
          
          <div style="display:flex;gap:12px;flex-wrap:wrap;">
            <button class="btn" id="detailOrderBtn">Order Now</button>
            <button class="btn secondary" onclick="showPage('productsPage')">Continue Shopping</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Order Form Page -->
    <section class="page" id="orderPage">
      <div class="card-panel">
        <h3>Order Details</h3>
        
        <div id="selectedProductCard" class="card">
          <div class="card-body">
            <div class="title" id="spTitle"></div>
            <div class="price" id="spPrice"></div>
            
            <label>Size</label>
            <select id="sizeSelect">
              <option value="">Select size</option>
            </select>

            <label>Quantity</label>
            <div class="quantity-control">
              <button class="qty-minus">-</button>
              <input type="number" id="qtySelect" min="1" value="1" readonly>
              <button class="qty-plus">+</button>
            </div>

            <div style="display:flex;gap:10px;flex-wrap:wrap">
              <button id="toUserInfo" class="btn" style="flex:1">Continue → Provide Your Info</button>
              <button id="backToProducts" class="btn secondary" style="flex:1">Back to Products</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- User Info Page -->
    <section class="page" id="userPage">
      <div class="card-panel">
        <h3>Your Contact & Delivery Address</h3>
        
        <div>
          <label>Full Name *</label>
          <input id="fullname" placeholder="Enter full name" />
        </div>
        <div class="row">
          <div class="col"><label>Mobile Number *</label><input id="mobile" placeholder="10-digit mobile number" /></div>
          <div class="col"><label>Pincode *</label><input id="pincode" placeholder="Pincode" /></div>
        </div>
        <div class="row">
          <div class="col"><label>City *</label><input id="city" /></div>
          <div class="col"><label>State *</label><input id="state" /></div>
        </div>
        <div>
          <label>House / Street *</label>
          <input id="house" />
        </div>
        <div style="display:flex;gap:10px;margin-top:16px;flex-wrap:wrap">
          <button id="toPayment" class="btn" style="flex:1">Continue to Payment</button>
          <button id="editOrder" class="btn secondary" style="flex:1">Edit Order Details</button>
        </div>
      </div>
    </section>

    <!-- Payment Page -->
    <section class="page" id="paymentPage">
      <div class="card-panel">
        <h3>Payment Method</h3>
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-bottom:16px">
          <label style="flex:1;display:flex;align-items:center;gap:8px;padding:12px;border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;">
            <input type="radio" name="pay" value="prepaid" checked /> Prepaid (UPI / Card)
          </label>
          <label style="flex:1;display:flex;align-items:center;gap:8px;padding:12px;border:1px solid var(--border);border-radius:var(--radius);cursor:pointer;">
            <input type="radio" name="pay" value="cod" /> Cash on Delivery
          </label>
        </div>
        
        <div class="summary">
          <div style="display:flex;justify-content:space-between;margin-bottom:8px"><div>Product</div><div id="sumProduct">-</div></div>
          <div style="display:flex;justify-content:space-between;margin-bottom:8px"><div>Qty</div><div id="sumQty">-</div></div>
          <div style="display:flex;justify-content:space-between;margin-bottom:8px"><div>Price</div><div id="sumPrice">-</div></div>
          <div style="display:flex;justify-content:space-between;margin-bottom:12px;padding-bottom:8px;border-bottom:1px dashed var(--border)"><div>Delivery</div><div id="sumDel">₹50</div></div>
          <div style="display:flex;justify-content:space-between;font-weight:700;margin-top:8px;font-size:18px"><div>Total</div><div id="sumTotal">-</div></div>
        </div>
        
        <div style="height:16px"></div>
        <div style="display:flex;gap:12px;flex-wrap:wrap">
          <button id="confirmOrder" class="btn" style="flex:1">Confirm & Place Order</button>
          <button id="payBack" class="btn secondary" style="flex:1">Back</button>
        </div>
      </div>
    </section>

    <!-- Order Success Page -->
    <section class="page center" id="successPage">
      <div class="card-panel" style="max-width:520px;margin:32px auto;padding:32px">
        <div style="font-size:24px;font-weight:700;color:var(--success);margin-bottom:8px">Thank You for Your Order!</div>
        <div style="margin-top:10px;color:var(--muted)">Your order has been placed successfully!</div>
        <div style="margin-top:24px;display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
          <button id="goHome" class="btn">Back to Products</button>
        </div>
      </div>
    </section>

    <!-- Policy Pages -->
    <section class="page" id="policyPage">
      <div class="policy-page">
        <div class="back-button" onclick="showPage('productsPage')">
          ← Back to Products
        </div>
        <div class="policy-content">
          <h2 id="policyTitle"></h2>
          <div id="policyContent"></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div>
      <div style="font-weight:700;color:var(--accent);font-size:18px">Buyzo Cart</div>
      <div style="margin-top:16px;font-size:14px">
        <a href="#" onclick="showPolicy('about'); return false;">About Us</a> •
        <a href="#" onclick="showPolicy('refund'); return false;">Refund Policy</a> •
        <a href="#" onclick="showPolicy('terms'); return false;">Terms & Conditions</a> •
        <a href="#" onclick="showPolicy('shipping'); return false;">Shipping Policy</a> •
        <a href="#" onclick="showPolicy('privacy'); return false;">Privacy Policy</a>
      </div>
    </div>
  </footer>

  <!-- Toast Notification -->
  <div id="toast" class="toast">
    <div class="toast-icon">✓</div>
    <div id="toast-message"></div>
  </div>

  <script type="module" src="js/firebase.js"></script>
  <script type="module" src="js/public.js"></script>
</body>
</html>